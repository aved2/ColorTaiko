<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>create an edge</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden; 
            background-color: #fff; /* default light mode background color */
            color: #000; /* default light mode text color */
        }

        body.dark-mode {
            background-color: #000; /* dark mode background color */
            color: #fff; /* dark mode text color */
        }

        svg {
            width: 100%;
            height: 100%;
            position: absolute;
        }
        /* styling for line width selector */
        #lineWidth {
            position: absolute;
            top: 10px;
            padding: 10px 20px;
            font-size: 1.2em;
            border: 2px solid #000;
            border-radius: 5px;
            background-color: rgb(212, 194, 170);
            cursor: pointer;
            z-index: 10; 
            right: 250px;
        }
        /* styling for line style selector and undo button */
        #lineStyle, #undoButton {
            position: absolute;
            top: 10px;
            padding: 10px 20px;
            font-size: 1.2em;
            border: 2px solid #000;
            border-radius: 5px;
            background-color: rgb(212, 194, 170);
            cursor: pointer;
            z-index: 10; 
        }
        #lineStyle {
            right: 80px;
        }
        #undoButton {
            right: 1300px;
        }
        /* styling for mode switch button */
        #modeSwitch {
            position: absolute;
            top: 10px;
            right: 1170px;
            padding: 10px;
            font-size: 1em;
            border: 2px solid #000;
            border-radius: 5px;
            background-color: rgb(212, 194, 170);
            cursor: pointer;
            z-index: 10;
        }
    </style>
</head>
<body>
    <!-- line style selector -->
    <select id="lineStyle">
        <option value="">Solid</option>
        <option value="5,5">Dashed</option>
        <option value="1,5">Dotted</option>
        <option value="15,10,5,10">Dash-Dot</option>
    </select>
    <!-- undo button for erasing the last line drawn -->
    <button id="undoButton">â†©</button>
    <!-- line width selector -->
    <select id="lineWidth">
        <option value="1">1px</option>
        <option value="2">2px</option>
        <option value="4" selected>4px</option>
        <option value="6">6px</option>
        <option value="8">8px</option>
        <option value="10">10px</option>
    </select>
    <!-- mode switch button -->
    <button id="modeSwitch">Dark Mode</button>
    <svg id="svg"></svg>
    <script>
        // array of colors for drawing lines
        let colors = ['purple', 'lightblue', 'green', 'red', 'orange', 'pink', 'mediumslateblue', 'mediumseagreen', 'rgb(183, 183, 244)', 
                      'rosybrown', 'olivedrab', 'crimson', 'rgb(213, 213, 55)', 'palevioletred', 'indigo', 'coral', 'teal', 'plum', 
                      'navy', 'yellowgreen'];
        let index = 0; // index for cycling through colors
        let drawing = false; // is drawing in progress?
        let startOfLine = null; // coordinates
        let lines = []; // stores drawn lines
        let line = null; // current line being drawn
        let svg = document.getElementById('svg');

        // event listeners for mouse actions
        svg.addEventListener('mousedown', startLine);
        svg.addEventListener('mousemove', createLine);
        svg.addEventListener('mouseup', endLine);
        document.getElementById('undoButton').addEventListener('click', undoLastLine);

        // event listener for line style selector
        let lineStyle = document.getElementById('lineStyle');

        // function to start drawing a line
        function startLine(event) {
            if (drawing) {
                return;
            }
            drawing = true;
            const rect = svg.getBoundingClientRect(); 
            startOfLine = {
                x: event.clientX - rect.left,
                y: event.clientY - rect.top
            };
            line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
            line.setAttribute('x1', startOfLine.x);
            line.setAttribute('y1', startOfLine.y);
            line.setAttribute('x2', startOfLine.x);
            line.setAttribute('y2', startOfLine.y);
            line.setAttribute('stroke', colors[index]);
            let lineWidth = document.getElementById('lineWidth').value;
            line.setAttribute('stroke-width', lineWidth);
            line.setAttribute('stroke-dasharray', lineStyle.value);
            svg.appendChild(line);
        }

        // function to update the line being drawn as the mouse moves
        function createLine(event) {
            if (!drawing) {
                return;
            }
            const rect = svg.getBoundingClientRect();
            line.setAttribute('x2', event.clientX - rect.left);
            line.setAttribute('y2', event.clientY - rect.top);
        }

        // function to end drawing a line
        function endLine() {
            if (!drawing) {
                return;
            }
            drawing = false;
            lines.push(line);
            index = (index + 1) % colors.length;
        }

        // function to undo the last line drawn
        function undoLastLine() {
            if (lines.length > 0) {
                let lastLine = lines.pop();
                lastLine.remove();
            }
        }

        // function to toggle between dark mode and light mode
        document.getElementById('modeSwitch').addEventListener('click', toggleMode);

        function toggleMode() {
            const modeSwitchButton = document.getElementById('modeSwitch');
            const isDarkMode = document.body.classList.toggle('dark-mode');
            modeSwitchButton.textContent = isDarkMode ? 'Light Mode' : 'Dark Mode';
        }
    </script>
</body>
</html>
