{"ast":null,"code":"var _jsxFileName = \"/Users/anvitha.manepalli/Desktop/ColorTaiko/ColorTaiko/src/App.js\",\n  _s = $RefreshSig$();\nimport { useCallback, useState, useRef, useEffect } from 'react';\nimport ReactFlow, { useNodesState, useEdgesState, addEdge, ConnectionMode, ConnectionLineType, MarkerType } from 'reactflow';\nimport CustomNode from './customNode';\nimport { invertColor, generateRandomColor } from './utils';\nimport 'reactflow/dist/style.css';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst lineWidths = [1, 2, 3, 4, 5, 6];\nconst initItemStyle = {\n  markerEnd: undefined,\n  markerStart: undefined,\n  animated: false\n};\nconst initWarpStyle = {\n  strokeDasharray: undefined\n};\nconst nodeTypes = {\n  custom: CustomNode\n};\nconst nodeDefault = {\n  // sourcePosition: Position.Right,\n  // targetPosition: Position.Left,\n  style: {\n    borderRadius: '100%',\n    backgroundColor: 'rgb(227, 213, 194)',\n    width: 27,\n    height: 27,\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    border: 'solid 3px #604d93'\n  }\n};\nexport default function App() {\n  _s();\n  const previousColorRef = useRef(null);\n  const MIN_VERTICES = 3;\n  const MAX_VERTICES = 50;\n  const idTop = useRef(0);\n  const idBottom = useRef(100);\n  // const [rfInstance, setRfInstance] = useState(null);\n  const [darkMode, setDarkMode] = useState(false);\n  const [topVertices, setTopVertices] = useState(3);\n  const [bottomVertices, setBottomVertices] = useState(3);\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\n  const [lineColor, setLineColor] = useState('#666');\n  const [lineWidth, setLineWidth] = useState(4);\n  const [lineStyle, setLineStyle] = useState('default');\n  const lineStyles = useCallback(() => {\n    return [{\n      key: 'default',\n      name: 'Default',\n      lineComponent: undefined,\n      itemStyle: initItemStyle,\n      // add to edges\n      wrapStyle: initWarpStyle // add to linestyles\n    }, {\n      key: 'dashed',\n      name: 'Dasthed',\n      lineComponent: undefined,\n      itemStyle: {},\n      wrapStyle: {\n        strokeDasharray: '5, 5'\n      }\n    }, {\n      key: 'dotDash',\n      name: 'DotDash',\n      lineComponent: undefined,\n      itemStyle: {},\n      wrapStyle: {\n        strokeDasharray: '1, 5'\n      }\n    }, {\n      key: 'shortDash',\n      name: 'ShortDash',\n      lineComponent: undefined,\n      itemStyle: {},\n      wrapStyle: {\n        strokeDasharray: '5, 5, 1, 5'\n      }\n    }, {\n      key: 'moveDash',\n      name: 'MoveDash',\n      lineComponent: undefined,\n      itemStyle: {\n        animated: true\n      },\n      wrapStyle: {}\n    }, {\n      key: 'endArrow',\n      name: 'EndArrow',\n      lineComponent: undefined,\n      itemStyle: {\n        markerEnd: {\n          type: MarkerType.Arrow\n          // color: lineColor,\n        },\n        animated: false\n      },\n      wrapStyle: {}\n    }, {\n      key: 'endArrowClosed',\n      name: 'EndArrowClosed',\n      lineComponent: undefined,\n      itemStyle: {\n        markerEnd: {\n          type: MarkerType.ArrowClosed\n          // color: lineColor,\n        },\n        animated: false\n      },\n      wrapStyle: {}\n    }, {\n      key: 'bothArrow',\n      name: 'BothArrow',\n      lineComponent: undefined,\n      itemStyle: {\n        markerEnd: {\n          type: MarkerType.Arrow\n          // color: lineColor,\n        },\n        markerStart: {\n          type: MarkerType.Arrow\n          // color: lineColor,\n        },\n        animated: false\n      },\n      wrapStyle: {}\n    }, {\n      key: 'bothArrowClosed',\n      name: 'BothArrowClosed',\n      lineComponent: undefined,\n      itemStyle: {\n        markerEnd: {\n          type: MarkerType.ArrowClosed\n          // color: lineColor,\n        },\n        markerStart: {\n          type: MarkerType.ArrowClosed\n          // color: lineColor,\n        },\n        animated: false\n      },\n      wrapStyle: {}\n    }\n    // {\n    //   key: 'bothArrowClosed',\n    //   name: 'BothArrowClosed',\n    //   lineComponent: undefined,\n    //   itemStyle: {},\n    //   wrapStyle: {}\n    // },\n    ];\n  }, []);\n  useEffect(() => {\n    setNodes(() => []);\n    idTop.current = 0;\n    idBottom.current = 100;\n    const width = window.innerWidth;\n    const height = window.innerHeight;\n    // top\n    const topArr = new Array(topVertices).fill(idTop.current + 1);\n    const topItemWidth = (width - 30) / (topVertices - 1);\n    topArr.forEach((_, index) => {\n      addItems({\n        x: index * topItemWidth,\n        y: 0\n      });\n    });\n    // bottom\n    const bottomItemWidth = (width - 30) / (bottomVertices - 1);\n    new Array(bottomVertices).fill(idBottom.current + 1).forEach((_, index) => {\n      addItems({\n        x: index * bottomItemWidth,\n        y: height * 3 / 5\n      });\n    });\n  }, [topVertices, bottomVertices]);\n  useEffect(() => {\n    const style = lineStyles().find(item => item.key === lineStyle);\n    const nds = edges.map(item => {\n      var _item$style, _item$style2, _item$style3;\n      return {\n        ...item,\n        style: {\n          stroke: item === null || item === void 0 ? void 0 : (_item$style = item.style) === null || _item$style === void 0 ? void 0 : _item$style.stroke,\n          strokeWidth: lineWidth,\n          ...initWarpStyle,\n          ...style.wrapStyle\n        },\n        ...initItemStyle,\n        ...{\n          ...style.itemStyle,\n          markerEnd: style.itemStyle.markerEnd ? {\n            ...style.itemStyle.markerEnd,\n            color: item === null || item === void 0 ? void 0 : (_item$style2 = item.style) === null || _item$style2 === void 0 ? void 0 : _item$style2.stroke\n          } : undefined,\n          markerStart: style.itemStyle.markerStart ? {\n            ...style.itemStyle.markerStart,\n            color: item === null || item === void 0 ? void 0 : (_item$style3 = item.style) === null || _item$style3 === void 0 ? void 0 : _item$style3.stroke\n          } : undefined\n        }\n      };\n    });\n    // directly setEdges([...nds])ï¼Œdo not re-render lines with arrows\n    if (lineStyle.includes('Arrow')) {\n      setEdges([]);\n      setTimeout(() => {\n        setEdges([...nds]);\n      });\n    } else {\n      setEdges([...nds]);\n    }\n  }, [lineWidth, lineStyle]);\n  const addItems = pos => {\n    let idNode;\n    if (pos.y > 80) {\n      idBottom.current = idBottom.current + 1;\n      idNode = idBottom.current;\n    } else {\n      idTop.current = idTop.current + 1;\n      idNode = idTop.current;\n    }\n    const newNode = {\n      id: idNode.toString(),\n      position: pos,\n      data: {\n        label: ''\n      },\n      type: 'custom',\n      ...nodeDefault\n    };\n    setNodes(nds => nds.concat(newNode));\n  };\n  const previousVerticalEdgesRef = useRef([]);\n  const onConnect = useCallback(params => {\n    let shNode = {};\n    let thNode = {};\n    nodes.forEach(item => {\n      if (item.id === params.source) {\n        shNode = item;\n      }\n      if (item.id === params.target) {\n        thNode = item;\n      }\n    });\n    const samePosition = shNode.position.y === thNode.position.y;\n    if (!samePosition) {\n      const horizontalEdgeId = `horizontal_${shNode.id}_${thNode.id}`;\n      const horizontalEdge = {\n        id: horizontalEdgeId,\n        source: shNode.id,\n        target: thNode.id,\n        type: ConnectionLineType.Straight,\n        style: {\n          stroke: lineColor,\n          strokeWidth: lineWidth\n        }\n      };\n      setEdges(edges => [...edges, horizontalEdge]);\n    }\n    const style = lineStyles().find(item => item.key === lineStyle);\n    const {\n      source,\n      sourceHandle,\n      target,\n      targetHandle,\n      ...P\n    } = params;\n    let sh = sourceHandle;\n    let th = targetHandle;\n    if (samePosition) {\n      // Keep track of the last two consecutive vertical edges\n      const previousNode = nodes.find(node => node.id === params.source);\n      const isConsecutiveVerticalEdge = previousNode && previousNode.position.y === shNode.position.y && shNode.position.y === thNode.position.y;\n      if (isConsecutiveVerticalEdge) {\n        previousVerticalEdgesRef.current.push(lineColor);\n        if (previousVerticalEdgesRef.current.length === 2) {\n          const [color1, color2] = previousVerticalEdgesRef.current;\n          if (color1 === color2) {\n            const topNodes = nodes.filter(node => node.position.y < shNode.position.y);\n            const bottomNodes = nodes.filter(node => node.position.y > shNode.position.y);\n            topNodes.forEach(topNode => {\n              bottomNodes.forEach(bottomNode => {\n                const horizontalEdgeId = `horizontal_${topNode.id}_${bottomNode.id}`;\n                const horizontalEdge = {\n                  id: horizontalEdgeId,\n                  source: topNode.id,\n                  target: bottomNode.id,\n                  type: ConnectionLineType.Straight,\n                  style: {\n                    stroke: color1,\n                    // Use the color of the consecutive vertical edges\n                    strokeWidth: lineWidth\n                  }\n                };\n                setEdges(edges => [...edges, horizontalEdge]);\n              });\n            });\n          }\n          previousVerticalEdgesRef.current = [];\n        }\n      } else {\n        previousVerticalEdgesRef.current = [];\n      }\n    }\n    return setEdges(eds => {\n      var _style$itemStyle, _style$itemStyle2, _style$itemStyle3, _style$itemStyle4;\n      return addEdge({\n        ...P,\n        source,\n        target,\n        sourceHandle: sh,\n        targetHandle: th,\n        type: ConnectionLineType.Straight,\n        style: {\n          stroke: lineColor,\n          strokeWidth: lineWidth,\n          ...initWarpStyle,\n          ...style.wrapStyle\n        },\n        ...initItemStyle,\n        ...style.itemStyle,\n        markerEnd: style !== null && style !== void 0 && (_style$itemStyle = style.itemStyle) !== null && _style$itemStyle !== void 0 && _style$itemStyle.markerEnd ? {\n          ...(style === null || style === void 0 ? void 0 : (_style$itemStyle2 = style.itemStyle) === null || _style$itemStyle2 === void 0 ? void 0 : _style$itemStyle2.markerEnd),\n          color: lineColor\n        } : undefined,\n        markerStart: style !== null && style !== void 0 && (_style$itemStyle3 = style.itemStyle) !== null && _style$itemStyle3 !== void 0 && _style$itemStyle3.markerStart ? {\n          ...(style === null || style === void 0 ? void 0 : (_style$itemStyle4 = style.itemStyle) === null || _style$itemStyle4 === void 0 ? void 0 : _style$itemStyle4.markerStart),\n          color: lineColor\n        } : undefined\n      }, eds);\n    });\n  }, [setEdges, lineColor, lineWidth, lineStyle, nodes, lineStyles]);\n  const undoLastLine = () => {\n    setEdges(edges.slice(0, -1));\n  };\n  const toggleDarkMode = () => {\n    setDarkMode(!darkMode);\n    const egs = edges.map(e => {\n      return {\n        ...e,\n        style: {\n          ...e.style,\n          stroke: invertColor(e.style.stroke)\n        },\n        markerEnd: e.markerEnd ? {\n          ...e.markerEnd,\n          color: invertColor(e.markerEnd.color)\n        } : undefined,\n        markerStart: e.markerStart ? {\n          ...e.markerStart,\n          color: invertColor(e.markerStart.color)\n        } : undefined\n      };\n    });\n    setEdges([...egs]);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `App ${darkMode ? 'dark-mode' : ''}`,\n    style: {\n      height: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"option-wrap\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"option-title\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"option-switch\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"undoButton\",\n            onClick: undoLastLine,\n            children: \"Undo Last Line\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"modeSwitch\",\n            onClick: toggleDarkMode,\n            children: darkMode ? 'Light Mode' : 'Dark Mode'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 369,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"title\",\n          children: \"ColorTaiko!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 366,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-wrap\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"top-vertices\",\n              children: \"Top Vertices:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"top-vertices\",\n              value: topVertices,\n              min: MIN_VERTICES,\n              max: MAX_VERTICES,\n              maxLength: 2,\n              onChange: e => {\n                const newValue = Math.min(Math.max(parseInt(e.target.value), MIN_VERTICES), MAX_VERTICES);\n                setTopVertices(newValue);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setTopVertices(Math.min(topVertices + 1, MAX_VERTICES)),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 388,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setTopVertices(Math.max(topVertices - 1, MIN_VERTICES)),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 389,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"bottom-vertices\",\n              children: \"Bottom Vertices:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"bottom-vertices\",\n              type: \"number\",\n              value: bottomVertices,\n              min: MIN_VERTICES,\n              max: MAX_VERTICES,\n              maxLength: 2,\n              onChange: e => {\n                const newValue = Math.min(Math.max(parseInt(e.target.value), MIN_VERTICES), MAX_VERTICES);\n                setBottomVertices(newValue);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 393,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setBottomVertices(Math.min(bottomVertices + 1, MAX_VERTICES)),\n              children: \"+\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setBottomVertices(Math.max(bottomVertices - 1, MIN_VERTICES)),\n              children: \"-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"top-vertices\",\n              children: \"Line style:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              defaultValue: lineStyle,\n              onChange: e => {\n                setLineStyle(e.target.value);\n              },\n              children: lineStyles().map(lineItem => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: lineItem.key,\n                  children: lineItem.name\n                }, lineItem.key, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 30\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 409,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"top-vertices\",\n              children: \"Line width:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              defaultValue: lineWidth,\n              onChange: e => {\n                setLineWidth(e.target.value);\n              },\n              children: lineWidths.map(width => {\n                return /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: width,\n                  children: width\n                }, width + 'width', false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 26\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"input-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"top-vertices\",\n              children: \"Line color:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"color\",\n              value: lineColor,\n              onChange: e => {\n                setLineColor(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 373,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 365,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"svg-content\",\n      children: /*#__PURE__*/_jsxDEV(ReactFlow, {\n        nodes: nodes,\n        edges: edges\n        // onInit={setRfInstance}\n        ,\n        onNodesChange: onNodesChange,\n        onEdgesChange: onEdgesChange,\n        onConnect: onConnect,\n        onConnectStart: () => {\n          const initColor = generateRandomColor();\n          setLineColor(initColor);\n        },\n        autoPanOnConnect: false // cannot move after connecting\n        ,\n        panOnDrag: false,\n        nodesDraggable: false,\n        nodesFocusable: false,\n        zoomOnScroll: false,\n        zoomOnPinch: false,\n        zoomOnDoubleClick: false,\n        connectionMode: ConnectionMode.Loose,\n        nodeTypes: nodeTypes,\n        connectionLineType: ConnectionLineType.Straight,\n        onEdgeClick: (e, node) => {\n          // change the lines you selected here\n          console.log(e, node);\n        },\n        connectionLineStyle: {\n          stroke: lineColor,\n          strokeWidth: lineWidth,\n          ...lineStyles().find(style => style.key === lineStyle).wrapStyle\n          // strokeDasharray: '5, 5'\n        }\n        // viewportInitialized={false}\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 364,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"IHu6u8RuXychlYUeVV6ORR8Vy/4=\", false, function () {\n  return [useNodesState, useEdgesState];\n});\n_c = App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["useCallback","useState","useRef","useEffect","ReactFlow","useNodesState","useEdgesState","addEdge","ConnectionMode","ConnectionLineType","MarkerType","CustomNode","invertColor","generateRandomColor","jsxDEV","_jsxDEV","lineWidths","initItemStyle","markerEnd","undefined","markerStart","animated","initWarpStyle","strokeDasharray","nodeTypes","custom","nodeDefault","style","borderRadius","backgroundColor","width","height","display","alignItems","justifyContent","border","App","_s","previousColorRef","MIN_VERTICES","MAX_VERTICES","idTop","idBottom","darkMode","setDarkMode","topVertices","setTopVertices","bottomVertices","setBottomVertices","nodes","setNodes","onNodesChange","edges","setEdges","onEdgesChange","lineColor","setLineColor","lineWidth","setLineWidth","lineStyle","setLineStyle","lineStyles","key","name","lineComponent","itemStyle","wrapStyle","type","Arrow","ArrowClosed","current","window","innerWidth","innerHeight","topArr","Array","fill","topItemWidth","forEach","_","index","addItems","x","y","bottomItemWidth","find","item","nds","map","_item$style","_item$style2","_item$style3","stroke","strokeWidth","color","includes","setTimeout","pos","idNode","newNode","id","toString","position","data","label","concat","previousVerticalEdgesRef","onConnect","params","shNode","thNode","source","target","samePosition","horizontalEdgeId","horizontalEdge","Straight","sourceHandle","targetHandle","P","sh","th","previousNode","node","isConsecutiveVerticalEdge","push","length","color1","color2","topNodes","filter","bottomNodes","topNode","bottomNode","eds","_style$itemStyle","_style$itemStyle2","_style$itemStyle3","_style$itemStyle4","undoLastLine","slice","toggleDarkMode","egs","e","className","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","value","min","max","maxLength","onChange","newValue","Math","parseInt","defaultValue","lineItem","onConnectStart","initColor","autoPanOnConnect","panOnDrag","nodesDraggable","nodesFocusable","zoomOnScroll","zoomOnPinch","zoomOnDoubleClick","connectionMode","Loose","connectionLineType","onEdgeClick","console","log","connectionLineStyle","_c","$RefreshReg$"],"sources":["/Users/anvitha.manepalli/Desktop/ColorTaiko/ColorTaiko/src/App.js"],"sourcesContent":["import { useCallback, useState, useRef, useEffect } from 'react';\r\nimport ReactFlow, { useNodesState, useEdgesState, addEdge, ConnectionMode, ConnectionLineType, MarkerType } from 'reactflow';\r\nimport CustomNode from './customNode';\r\nimport { invertColor, generateRandomColor } from './utils';\r\nimport 'reactflow/dist/style.css';\r\nimport './App.css';\r\n\r\nconst lineWidths = [1, 2, 3, 4, 5, 6];\r\n\r\nconst initItemStyle = {\r\n  markerEnd: undefined,\r\n  markerStart: undefined,\r\n  animated: false\r\n}\r\n\r\nconst initWarpStyle = {\r\n  strokeDasharray: undefined\r\n}\r\n\r\nconst nodeTypes = {\r\n  custom: CustomNode,\r\n};\r\n\r\nconst nodeDefault = {\r\n  // sourcePosition: Position.Right,\r\n  // targetPosition: Position.Left,\r\n  style: {\r\n    borderRadius: '100%',\r\n    backgroundColor: 'rgb(227, 213, 194)',\r\n    width: 27,\r\n    height: 27,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    border: 'solid 3px #604d93',\r\n  },\r\n}\r\n \r\nexport default function App() {\r\n  const previousColorRef = useRef(null);\r\n  const MIN_VERTICES = 3;\r\n  const MAX_VERTICES = 50;\r\n  const idTop = useRef(0)\r\n  const idBottom = useRef(100)\r\n  // const [rfInstance, setRfInstance] = useState(null);\r\n  const [darkMode, setDarkMode] = useState(false);\r\n  const [topVertices, setTopVertices] = useState(3);\r\n  const [bottomVertices, setBottomVertices] = useState(3);\r\n  const [nodes, setNodes, onNodesChange] = useNodesState([]);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState([]);\r\n  const [lineColor, setLineColor] = useState('#666')\r\n  const [lineWidth, setLineWidth] = useState(4)\r\n  const [lineStyle, setLineStyle] = useState('default')\r\n\r\n  const lineStyles = useCallback(() => {\r\n    return [\r\n      {\r\n        key: 'default',\r\n        name: 'Default',\r\n        lineComponent: undefined,\r\n        itemStyle: initItemStyle, // add to edges\r\n        wrapStyle: initWarpStyle // add to linestyles\r\n      },\r\n      {\r\n        key: 'dashed',\r\n        name: 'Dasthed',\r\n        lineComponent: undefined,\r\n        itemStyle: {},\r\n        wrapStyle: {\r\n          strokeDasharray: '5, 5'\r\n        }\r\n      },\r\n      {\r\n        key: 'dotDash',\r\n        name: 'DotDash',\r\n        lineComponent: undefined,\r\n        itemStyle: {},\r\n        wrapStyle: {\r\n          strokeDasharray: '1, 5'\r\n        }\r\n      },\r\n      {\r\n        key: 'shortDash',\r\n        name: 'ShortDash',\r\n        lineComponent: undefined,\r\n        itemStyle: {},\r\n        wrapStyle: {\r\n          strokeDasharray: '5, 5, 1, 5'\r\n        }\r\n      },\r\n      {\r\n        key: 'moveDash',\r\n        name: 'MoveDash',\r\n        lineComponent: undefined,\r\n        itemStyle: {\r\n          animated: true\r\n        },\r\n        wrapStyle: {}\r\n      },\r\n      {\r\n        key: 'endArrow',\r\n        name: 'EndArrow',\r\n        lineComponent: undefined,\r\n        itemStyle: {\r\n          markerEnd: {\r\n            type: MarkerType.Arrow,\r\n            // color: lineColor,\r\n          },\r\n          animated: false\r\n        },\r\n        wrapStyle: {}\r\n      },\r\n      {\r\n        key: 'endArrowClosed',\r\n        name: 'EndArrowClosed',\r\n        lineComponent: undefined,\r\n        itemStyle: {\r\n          markerEnd: {\r\n            type: MarkerType.ArrowClosed,\r\n            // color: lineColor,\r\n          },\r\n          animated: false\r\n        },\r\n        wrapStyle: {}\r\n      },\r\n      {\r\n        key: 'bothArrow',\r\n        name: 'BothArrow',\r\n        lineComponent: undefined,\r\n        itemStyle: {\r\n          markerEnd: {\r\n            type: MarkerType.Arrow,\r\n            // color: lineColor,\r\n          },\r\n          markerStart: {\r\n            type: MarkerType.Arrow,\r\n            // color: lineColor,\r\n          },\r\n          animated: false\r\n        },\r\n        wrapStyle: {}\r\n      },\r\n      {\r\n        key: 'bothArrowClosed',\r\n        name: 'BothArrowClosed',\r\n        lineComponent: undefined,\r\n        itemStyle: {\r\n          markerEnd: {\r\n            type: MarkerType.ArrowClosed,\r\n            // color: lineColor,\r\n          },\r\n          markerStart: {\r\n            type: MarkerType.ArrowClosed,\r\n            // color: lineColor,\r\n          },\r\n          animated: false\r\n        },\r\n        wrapStyle: {}\r\n      },\r\n      // {\r\n      //   key: 'bothArrowClosed',\r\n      //   name: 'BothArrowClosed',\r\n      //   lineComponent: undefined,\r\n      //   itemStyle: {},\r\n      //   wrapStyle: {}\r\n      // },\r\n    ]\r\n  }, []) \r\n\r\n  useEffect(() => {\r\n    setNodes(() => []);\r\n    idTop.current = 0;\r\n    idBottom.current = 100;\r\n    const width = window.innerWidth\r\n    const height = window.innerHeight\r\n    // top\r\n    const topArr = new Array(topVertices).fill(idTop.current + 1)\r\n    const topItemWidth = (width - 30) / (topVertices - 1)\r\n    topArr.forEach((_, index) => {\r\n      addItems({x: index * topItemWidth, y: 0})\r\n    })\r\n    // bottom\r\n    const bottomItemWidth = (width - 30) / (bottomVertices - 1)\r\n    new Array(bottomVertices).fill(idBottom.current + 1).forEach((_, index) => {\r\n      addItems({x: index * bottomItemWidth, y: height * 3 / 5})\r\n    })\r\n  }, [topVertices, bottomVertices])\r\n\r\n  useEffect(() => {\r\n      const style = lineStyles().find((item) => item.key === lineStyle)\r\n      const nds = edges.map((item) => {\r\n      return {\r\n        ...item,\r\n        style: {\r\n          stroke: item?.style?.stroke,\r\n          strokeWidth: lineWidth,\r\n          ...initWarpStyle,\r\n          ...style.wrapStyle,\r\n        },\r\n        ...initItemStyle,\r\n        ...{\r\n          ...style.itemStyle,\r\n          markerEnd: style.itemStyle.markerEnd ? {...style.itemStyle.markerEnd, color: item?.style?.stroke,} : undefined,\r\n          markerStart: style.itemStyle.markerStart ? {...style.itemStyle.markerStart, color: item?.style?.stroke} : undefined,\r\n        },\r\n      }\r\n    })\r\n    // directly setEdges([...nds])ï¼Œdo not re-render lines with arrows\r\n    if (lineStyle.includes('Arrow')) {\r\n      setEdges([])\r\n      setTimeout(() => {\r\n        setEdges([...nds])\r\n      });\r\n    } else {\r\n      setEdges([...nds])\r\n    }\r\n  }, [lineWidth, lineStyle])\r\n\r\n  const addItems = (pos) => {\r\n    let idNode;\r\n    if (pos.y > 80) {\r\n      idBottom.current = idBottom.current + 1;\r\n      idNode = idBottom.current\r\n    } else {\r\n      idTop.current = idTop.current + 1;\r\n      idNode = idTop.current\r\n    }\r\n    const newNode = {\r\n      id: idNode.toString(),\r\n      position: pos,\r\n      data: { label: '' },\r\n      type: 'custom',\r\n      ...nodeDefault\r\n    };\r\n    setNodes((nds) => nds.concat(newNode));\r\n  }\r\n \r\n\r\nconst previousVerticalEdgesRef = useRef([]);\r\n\r\nconst onConnect = useCallback(\r\n  (params) => {\r\n    let shNode = {};\r\n    let thNode = {};\r\n    nodes.forEach((item) => {\r\n      if (item.id === params.source) {\r\n        shNode = item\r\n      }\r\n      if (item.id === params.target) {\r\n        thNode = item\r\n      }\r\n    });\r\n\r\n    const samePosition = shNode.position.y === thNode.position.y;\r\n\r\n    if (!samePosition) {\r\n      const horizontalEdgeId = `horizontal_${shNode.id}_${thNode.id}`;\r\n      const horizontalEdge = {\r\n        id: horizontalEdgeId,\r\n        source: shNode.id,\r\n        target: thNode.id,\r\n        type: ConnectionLineType.Straight,\r\n        style: {\r\n          stroke: lineColor,\r\n          strokeWidth: lineWidth,\r\n        },\r\n      };\r\n\r\n      setEdges((edges) => [...edges, horizontalEdge]);\r\n    }\r\n\r\n    const style = lineStyles().find((item) => item.key === lineStyle);\r\n    const { source, sourceHandle, target, targetHandle, ...P } = params;\r\n    let sh = sourceHandle;\r\n    let th = targetHandle;\r\n\r\n    if (samePosition) {\r\n      // Keep track of the last two consecutive vertical edges\r\n      const previousNode = nodes.find((node) => node.id === params.source);\r\n      const isConsecutiveVerticalEdge =\r\n        previousNode &&\r\n        previousNode.position.y === shNode.position.y &&\r\n        shNode.position.y === thNode.position.y;\r\n\r\n      if (isConsecutiveVerticalEdge) {\r\n        previousVerticalEdgesRef.current.push(lineColor);\r\n        if (previousVerticalEdgesRef.current.length === 2) {\r\n          const [color1, color2] = previousVerticalEdgesRef.current;\r\n          if (color1 === color2) {\r\n            const topNodes = nodes.filter((node) => node.position.y < shNode.position.y);\r\n            const bottomNodes = nodes.filter((node) => node.position.y > shNode.position.y);\r\n\r\n            topNodes.forEach((topNode) => {\r\n              bottomNodes.forEach((bottomNode) => {\r\n                const horizontalEdgeId = `horizontal_${topNode.id}_${bottomNode.id}`;\r\n                const horizontalEdge = {\r\n                  id: horizontalEdgeId,\r\n                  source: topNode.id,\r\n                  target: bottomNode.id,\r\n                  type: ConnectionLineType.Straight,\r\n                  style: {\r\n                    stroke: color1, // Use the color of the consecutive vertical edges\r\n                    strokeWidth: lineWidth,\r\n                  },\r\n                };\r\n\r\n                setEdges((edges) => [...edges, horizontalEdge]);\r\n              });\r\n            });\r\n          }\r\n          previousVerticalEdgesRef.current = [];\r\n        }\r\n      } else {\r\n        previousVerticalEdgesRef.current = [];\r\n      }\r\n    }\r\n\r\n    return setEdges((eds) => addEdge({\r\n      ...P,\r\n      source,\r\n      target,\r\n      sourceHandle: sh,\r\n      targetHandle: th,\r\n      type: ConnectionLineType.Straight, \r\n      style: {stroke: lineColor, strokeWidth: lineWidth, ...initWarpStyle, ...style.wrapStyle},\r\n      ...initItemStyle,\r\n      ...style.itemStyle,\r\n      markerEnd: style?.itemStyle?.markerEnd ? {...style?.itemStyle?.markerEnd, color: lineColor} : undefined,\r\n      markerStart: style?.itemStyle?.markerStart ? {...style?.itemStyle?.markerStart, color: lineColor} : undefined,\r\n    }, eds));\r\n  },\r\n  [setEdges, lineColor, lineWidth, lineStyle, nodes, lineStyles],\r\n);\r\n\r\n  \r\n  \r\n  \r\n  \r\n\r\n  const undoLastLine = () => {\r\n    setEdges(edges.slice(0, -1));\r\n  };\r\n\r\n  const toggleDarkMode = () => {\r\n    setDarkMode(!darkMode);\r\n    const egs = edges.map(e => {\r\n      return {\r\n        ...e, \r\n        style: {...e.style, stroke: invertColor(e.style.stroke)},\r\n        markerEnd: e.markerEnd ? {\r\n          ...e.markerEnd,\r\n          color: invertColor(e.markerEnd.color),\r\n        } : undefined,\r\n        markerStart: e.markerStart ? {\r\n          ...e.markerStart,\r\n          color: invertColor(e.markerStart.color),\r\n        } : undefined,\r\n      } \r\n    })\r\n    setEdges([...egs])\r\n  };\r\n \r\n  return (\r\n    <div className={`App ${darkMode ? 'dark-mode' : ''}`} style={{ height: '100vh' }}>\r\n      <div className='option-wrap'>\r\n        <div className='option-title'>\r\n          <div className='option-switch'>\r\n            <button id = 'undoButton' onClick={undoLastLine}>Undo Last Line</button>\r\n            <button id=\"modeSwitch\" onClick={toggleDarkMode}>{darkMode ? 'Light Mode' : 'Dark Mode'}</button>\r\n          </div>\r\n          <h1 className=\"title\">ColorTaiko!</h1>\r\n        </div>\r\n        <div className='input-wrap'>\r\n        <div>\r\n            <div className=\"input-container\">\r\n              <label htmlFor=\"top-vertices\">Top Vertices:</label>\r\n              <input\r\n                id=\"top-vertices\"\r\n                value={topVertices}\r\n                min={MIN_VERTICES}\r\n                max={MAX_VERTICES}\r\n                maxLength={2}\r\n                onChange={(e) => {\r\n                  const newValue = Math.min(Math.max(parseInt(e.target.value), MIN_VERTICES), MAX_VERTICES);\r\n                  setTopVertices(newValue);\r\n                }}\r\n              />\r\n              <button onClick={() => setTopVertices(Math.min(topVertices + 1, MAX_VERTICES))}>+</button>\r\n              <button onClick={() => setTopVertices(Math.max(topVertices - 1, MIN_VERTICES))}>-</button>\r\n            </div>\r\n            <div className=\"input-container\">\r\n              <label htmlFor=\"bottom-vertices\">Bottom Vertices:</label>\r\n              <input\r\n                id=\"bottom-vertices\"\r\n                type=\"number\"\r\n                value={bottomVertices}\r\n                min={MIN_VERTICES}\r\n                max={MAX_VERTICES}\r\n                maxLength={2}\r\n                onChange={(e) => {\r\n                  const newValue = Math.min(Math.max(parseInt(e.target.value), MIN_VERTICES), MAX_VERTICES);\r\n                  setBottomVertices(newValue);\r\n                }}\r\n              />\r\n              <button onClick={() => setBottomVertices(Math.min(bottomVertices + 1, MAX_VERTICES))}>+</button>\r\n              <button onClick={() => setBottomVertices(Math.max(bottomVertices - 1, MIN_VERTICES))}>-</button>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"input-container\">\r\n                <label htmlFor=\"top-vertices\">Line style:</label>\r\n                <select defaultValue={lineStyle} onChange={(e) => {\r\n                  setLineStyle(e.target.value)\r\n                }}>\r\n                  {\r\n                    lineStyles().map((lineItem) => {\r\n                      return <option key={lineItem.key} value={lineItem.key}>{lineItem.name}</option>\r\n                    })\r\n                  }\r\n                </select>\r\n              </div>\r\n          </div>\r\n          <div>\r\n            <div className=\"input-container\">\r\n              <label htmlFor=\"top-vertices\">Line width:</label>\r\n              <select defaultValue={lineWidth} onChange={(e) => {\r\n                setLineWidth(e.target.value)\r\n              }}>\r\n                {lineWidths.map(width => {\r\n                  return <option key={width + 'width'} value={width}>{width}</option>\r\n                })}\r\n              </select>\r\n            </div>\r\n            <div className=\"input-container\">\r\n              <label htmlFor=\"top-vertices\">Line color:</label>\r\n              <input type='color' value={lineColor} onChange={(e) => {\r\n                setLineColor(e.target.value)\r\n              }} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className='svg-content'>\r\n        <ReactFlow\r\n          nodes={nodes}\r\n          edges={edges}\r\n          // onInit={setRfInstance}\r\n          onNodesChange={onNodesChange}\r\n          onEdgesChange={onEdgesChange}\r\n          onConnect={onConnect}\r\n          onConnectStart={() => {\r\n            const initColor = generateRandomColor()\r\n            setLineColor(initColor)\r\n          }}\r\n          autoPanOnConnect={false} // cannot move after connecting\r\n          panOnDrag={false}\r\n          nodesDraggable={false}\r\n          nodesFocusable={false}\r\n          zoomOnScroll={false}\r\n          zoomOnPinch={false}\r\n          zoomOnDoubleClick={false}\r\n          connectionMode={ConnectionMode.Loose}\r\n          nodeTypes={nodeTypes}\r\n          connectionLineType={ConnectionLineType.Straight}\r\n          onEdgeClick={(e, node) => {\r\n            // change the lines you selected here\r\n            console.log(e, node)\r\n          }}\r\n          connectionLineStyle={{\r\n            stroke: lineColor,\r\n            strokeWidth: lineWidth,\r\n            ...(lineStyles().find((style) => style.key === lineStyle).wrapStyle)\r\n            // strokeDasharray: '5, 5'\r\n          }}\r\n          // viewportInitialized={false}\r\n        />\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n}"],"mappings":";;AAAA,SAASA,WAAW,EAAEC,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAChE,OAAOC,SAAS,IAAIC,aAAa,EAAEC,aAAa,EAAEC,OAAO,EAAEC,cAAc,EAAEC,kBAAkB,EAAEC,UAAU,QAAQ,WAAW;AAC5H,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,WAAW,EAAEC,mBAAmB,QAAQ,SAAS;AAC1D,OAAO,0BAA0B;AACjC,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,MAAMC,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AAErC,MAAMC,aAAa,GAAG;EACpBC,SAAS,EAAEC,SAAS;EACpBC,WAAW,EAAED,SAAS;EACtBE,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMC,aAAa,GAAG;EACpBC,eAAe,EAAEJ;AACnB,CAAC;AAED,MAAMK,SAAS,GAAG;EAChBC,MAAM,EAAEd;AACV,CAAC;AAED,MAAMe,WAAW,GAAG;EAClB;EACA;EACAC,KAAK,EAAE;IACLC,YAAY,EAAE,MAAM;IACpBC,eAAe,EAAE,oBAAoB;IACrCC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE,EAAE;IACVC,OAAO,EAAE,MAAM;IACfC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,QAAQ;IACxBC,MAAM,EAAE;EACV;AACF,CAAC;AAED,eAAe,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAMC,gBAAgB,GAAGpC,MAAM,CAAC,IAAI,CAAC;EACrC,MAAMqC,YAAY,GAAG,CAAC;EACtB,MAAMC,YAAY,GAAG,EAAE;EACvB,MAAMC,KAAK,GAAGvC,MAAM,CAAC,CAAC,CAAC;EACvB,MAAMwC,QAAQ,GAAGxC,MAAM,CAAC,GAAG,CAAC;EAC5B;EACA,MAAM,CAACyC,QAAQ,EAAEC,WAAW,CAAC,GAAG3C,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAAC4C,WAAW,EAAEC,cAAc,CAAC,GAAG7C,QAAQ,CAAC,CAAC,CAAC;EACjD,MAAM,CAAC8C,cAAc,EAAEC,iBAAiB,CAAC,GAAG/C,QAAQ,CAAC,CAAC,CAAC;EACvD,MAAM,CAACgD,KAAK,EAAEC,QAAQ,EAAEC,aAAa,CAAC,GAAG9C,aAAa,CAAC,EAAE,CAAC;EAC1D,MAAM,CAAC+C,KAAK,EAAEC,QAAQ,EAAEC,aAAa,CAAC,GAAGhD,aAAa,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACiD,SAAS,EAAEC,YAAY,CAAC,GAAGvD,QAAQ,CAAC,MAAM,CAAC;EAClD,MAAM,CAACwD,SAAS,EAAEC,YAAY,CAAC,GAAGzD,QAAQ,CAAC,CAAC,CAAC;EAC7C,MAAM,CAAC0D,SAAS,EAAEC,YAAY,CAAC,GAAG3D,QAAQ,CAAC,SAAS,CAAC;EAErD,MAAM4D,UAAU,GAAG7D,WAAW,CAAC,MAAM;IACnC,OAAO,CACL;MACE8D,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAEhD,aAAa;MAAE;MAC1BiD,SAAS,EAAE5C,aAAa,CAAC;IAC3B,CAAC,EACD;MACEwC,GAAG,EAAE,QAAQ;MACbC,IAAI,EAAE,SAAS;MACfC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE,CAAC,CAAC;MACbC,SAAS,EAAE;QACT3C,eAAe,EAAE;MACnB;IACF,CAAC,EACD;MACEuC,GAAG,EAAE,SAAS;MACdC,IAAI,EAAE,SAAS;MACfC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE,CAAC,CAAC;MACbC,SAAS,EAAE;QACT3C,eAAe,EAAE;MACnB;IACF,CAAC,EACD;MACEuC,GAAG,EAAE,WAAW;MAChBC,IAAI,EAAE,WAAW;MACjBC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE,CAAC,CAAC;MACbC,SAAS,EAAE;QACT3C,eAAe,EAAE;MACnB;IACF,CAAC,EACD;MACEuC,GAAG,EAAE,UAAU;MACfC,IAAI,EAAE,UAAU;MAChBC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE;QACT5C,QAAQ,EAAE;MACZ,CAAC;MACD6C,SAAS,EAAE,CAAC;IACd,CAAC,EACD;MACEJ,GAAG,EAAE,UAAU;MACfC,IAAI,EAAE,UAAU;MAChBC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE;QACT/C,SAAS,EAAE;UACTiD,IAAI,EAAEzD,UAAU,CAAC0D;UACjB;QACF,CAAC;QACD/C,QAAQ,EAAE;MACZ,CAAC;MACD6C,SAAS,EAAE,CAAC;IACd,CAAC,EACD;MACEJ,GAAG,EAAE,gBAAgB;MACrBC,IAAI,EAAE,gBAAgB;MACtBC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE;QACT/C,SAAS,EAAE;UACTiD,IAAI,EAAEzD,UAAU,CAAC2D;UACjB;QACF,CAAC;QACDhD,QAAQ,EAAE;MACZ,CAAC;MACD6C,SAAS,EAAE,CAAC;IACd,CAAC,EACD;MACEJ,GAAG,EAAE,WAAW;MAChBC,IAAI,EAAE,WAAW;MACjBC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE;QACT/C,SAAS,EAAE;UACTiD,IAAI,EAAEzD,UAAU,CAAC0D;UACjB;QACF,CAAC;QACDhD,WAAW,EAAE;UACX+C,IAAI,EAAEzD,UAAU,CAAC0D;UACjB;QACF,CAAC;QACD/C,QAAQ,EAAE;MACZ,CAAC;MACD6C,SAAS,EAAE,CAAC;IACd,CAAC,EACD;MACEJ,GAAG,EAAE,iBAAiB;MACtBC,IAAI,EAAE,iBAAiB;MACvBC,aAAa,EAAE7C,SAAS;MACxB8C,SAAS,EAAE;QACT/C,SAAS,EAAE;UACTiD,IAAI,EAAEzD,UAAU,CAAC2D;UACjB;QACF,CAAC;QACDjD,WAAW,EAAE;UACX+C,IAAI,EAAEzD,UAAU,CAAC2D;UACjB;QACF,CAAC;QACDhD,QAAQ,EAAE;MACZ,CAAC;MACD6C,SAAS,EAAE,CAAC;IACd;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IAAA,CACD;EACH,CAAC,EAAE,EAAE,CAAC;EAEN/D,SAAS,CAAC,MAAM;IACd+C,QAAQ,CAAC,MAAM,EAAE,CAAC;IAClBT,KAAK,CAAC6B,OAAO,GAAG,CAAC;IACjB5B,QAAQ,CAAC4B,OAAO,GAAG,GAAG;IACtB,MAAMxC,KAAK,GAAGyC,MAAM,CAACC,UAAU;IAC/B,MAAMzC,MAAM,GAAGwC,MAAM,CAACE,WAAW;IACjC;IACA,MAAMC,MAAM,GAAG,IAAIC,KAAK,CAAC9B,WAAW,CAAC,CAAC+B,IAAI,CAACnC,KAAK,CAAC6B,OAAO,GAAG,CAAC,CAAC;IAC7D,MAAMO,YAAY,GAAG,CAAC/C,KAAK,GAAG,EAAE,KAAKe,WAAW,GAAG,CAAC,CAAC;IACrD6B,MAAM,CAACI,OAAO,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAK;MAC3BC,QAAQ,CAAC;QAACC,CAAC,EAAEF,KAAK,GAAGH,YAAY;QAAEM,CAAC,EAAE;MAAC,CAAC,CAAC;IAC3C,CAAC,CAAC;IACF;IACA,MAAMC,eAAe,GAAG,CAACtD,KAAK,GAAG,EAAE,KAAKiB,cAAc,GAAG,CAAC,CAAC;IAC3D,IAAI4B,KAAK,CAAC5B,cAAc,CAAC,CAAC6B,IAAI,CAAClC,QAAQ,CAAC4B,OAAO,GAAG,CAAC,CAAC,CAACQ,OAAO,CAAC,CAACC,CAAC,EAAEC,KAAK,KAAK;MACzEC,QAAQ,CAAC;QAACC,CAAC,EAAEF,KAAK,GAAGI,eAAe;QAAED,CAAC,EAAEpD,MAAM,GAAG,CAAC,GAAG;MAAC,CAAC,CAAC;IAC3D,CAAC,CAAC;EACJ,CAAC,EAAE,CAACc,WAAW,EAAEE,cAAc,CAAC,CAAC;EAEjC5C,SAAS,CAAC,MAAM;IACZ,MAAMwB,KAAK,GAAGkC,UAAU,CAAC,CAAC,CAACwB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACxB,GAAG,KAAKH,SAAS,CAAC;IACjE,MAAM4B,GAAG,GAAGnC,KAAK,CAACoC,GAAG,CAAEF,IAAI,IAAK;MAAA,IAAAG,WAAA,EAAAC,YAAA,EAAAC,YAAA;MAChC,OAAO;QACL,GAAGL,IAAI;QACP3D,KAAK,EAAE;UACLiE,MAAM,EAAEN,IAAI,aAAJA,IAAI,wBAAAG,WAAA,GAAJH,IAAI,CAAE3D,KAAK,cAAA8D,WAAA,uBAAXA,WAAA,CAAaG,MAAM;UAC3BC,WAAW,EAAEpC,SAAS;UACtB,GAAGnC,aAAa;UAChB,GAAGK,KAAK,CAACuC;QACX,CAAC;QACD,GAAGjD,aAAa;QAChB,GAAG;UACD,GAAGU,KAAK,CAACsC,SAAS;UAClB/C,SAAS,EAAES,KAAK,CAACsC,SAAS,CAAC/C,SAAS,GAAG;YAAC,GAAGS,KAAK,CAACsC,SAAS,CAAC/C,SAAS;YAAE4E,KAAK,EAAER,IAAI,aAAJA,IAAI,wBAAAI,YAAA,GAAJJ,IAAI,CAAE3D,KAAK,cAAA+D,YAAA,uBAAXA,YAAA,CAAaE;UAAO,CAAC,GAAGzE,SAAS;UAC9GC,WAAW,EAAEO,KAAK,CAACsC,SAAS,CAAC7C,WAAW,GAAG;YAAC,GAAGO,KAAK,CAACsC,SAAS,CAAC7C,WAAW;YAAE0E,KAAK,EAAER,IAAI,aAAJA,IAAI,wBAAAK,YAAA,GAAJL,IAAI,CAAE3D,KAAK,cAAAgE,YAAA,uBAAXA,YAAA,CAAaC;UAAM,CAAC,GAAGzE;QAC5G;MACF,CAAC;IACH,CAAC,CAAC;IACF;IACA,IAAIwC,SAAS,CAACoC,QAAQ,CAAC,OAAO,CAAC,EAAE;MAC/B1C,QAAQ,CAAC,EAAE,CAAC;MACZ2C,UAAU,CAAC,MAAM;QACf3C,QAAQ,CAAC,CAAC,GAAGkC,GAAG,CAAC,CAAC;MACpB,CAAC,CAAC;IACJ,CAAC,MAAM;MACLlC,QAAQ,CAAC,CAAC,GAAGkC,GAAG,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAAC9B,SAAS,EAAEE,SAAS,CAAC,CAAC;EAE1B,MAAMsB,QAAQ,GAAIgB,GAAG,IAAK;IACxB,IAAIC,MAAM;IACV,IAAID,GAAG,CAACd,CAAC,GAAG,EAAE,EAAE;MACdzC,QAAQ,CAAC4B,OAAO,GAAG5B,QAAQ,CAAC4B,OAAO,GAAG,CAAC;MACvC4B,MAAM,GAAGxD,QAAQ,CAAC4B,OAAO;IAC3B,CAAC,MAAM;MACL7B,KAAK,CAAC6B,OAAO,GAAG7B,KAAK,CAAC6B,OAAO,GAAG,CAAC;MACjC4B,MAAM,GAAGzD,KAAK,CAAC6B,OAAO;IACxB;IACA,MAAM6B,OAAO,GAAG;MACdC,EAAE,EAAEF,MAAM,CAACG,QAAQ,CAAC,CAAC;MACrBC,QAAQ,EAAEL,GAAG;MACbM,IAAI,EAAE;QAAEC,KAAK,EAAE;MAAG,CAAC;MACnBrC,IAAI,EAAE,QAAQ;MACd,GAAGzC;IACL,CAAC;IACDwB,QAAQ,CAAEqC,GAAG,IAAKA,GAAG,CAACkB,MAAM,CAACN,OAAO,CAAC,CAAC;EACxC,CAAC;EAGH,MAAMO,wBAAwB,GAAGxG,MAAM,CAAC,EAAE,CAAC;EAE3C,MAAMyG,SAAS,GAAG3G,WAAW,CAC1B4G,MAAM,IAAK;IACV,IAAIC,MAAM,GAAG,CAAC,CAAC;IACf,IAAIC,MAAM,GAAG,CAAC,CAAC;IACf7D,KAAK,CAAC6B,OAAO,CAAEQ,IAAI,IAAK;MACtB,IAAIA,IAAI,CAACc,EAAE,KAAKQ,MAAM,CAACG,MAAM,EAAE;QAC7BF,MAAM,GAAGvB,IAAI;MACf;MACA,IAAIA,IAAI,CAACc,EAAE,KAAKQ,MAAM,CAACI,MAAM,EAAE;QAC7BF,MAAM,GAAGxB,IAAI;MACf;IACF,CAAC,CAAC;IAEF,MAAM2B,YAAY,GAAGJ,MAAM,CAACP,QAAQ,CAACnB,CAAC,KAAK2B,MAAM,CAACR,QAAQ,CAACnB,CAAC;IAE5D,IAAI,CAAC8B,YAAY,EAAE;MACjB,MAAMC,gBAAgB,GAAI,cAAaL,MAAM,CAACT,EAAG,IAAGU,MAAM,CAACV,EAAG,EAAC;MAC/D,MAAMe,cAAc,GAAG;QACrBf,EAAE,EAAEc,gBAAgB;QACpBH,MAAM,EAAEF,MAAM,CAACT,EAAE;QACjBY,MAAM,EAAEF,MAAM,CAACV,EAAE;QACjBjC,IAAI,EAAE1D,kBAAkB,CAAC2G,QAAQ;QACjCzF,KAAK,EAAE;UACLiE,MAAM,EAAErC,SAAS;UACjBsC,WAAW,EAAEpC;QACf;MACF,CAAC;MAEDJ,QAAQ,CAAED,KAAK,IAAK,CAAC,GAAGA,KAAK,EAAE+D,cAAc,CAAC,CAAC;IACjD;IAEA,MAAMxF,KAAK,GAAGkC,UAAU,CAAC,CAAC,CAACwB,IAAI,CAAEC,IAAI,IAAKA,IAAI,CAACxB,GAAG,KAAKH,SAAS,CAAC;IACjE,MAAM;MAAEoD,MAAM;MAAEM,YAAY;MAAEL,MAAM;MAAEM,YAAY;MAAE,GAAGC;IAAE,CAAC,GAAGX,MAAM;IACnE,IAAIY,EAAE,GAAGH,YAAY;IACrB,IAAII,EAAE,GAAGH,YAAY;IAErB,IAAIL,YAAY,EAAE;MAChB;MACA,MAAMS,YAAY,GAAGzE,KAAK,CAACoC,IAAI,CAAEsC,IAAI,IAAKA,IAAI,CAACvB,EAAE,KAAKQ,MAAM,CAACG,MAAM,CAAC;MACpE,MAAMa,yBAAyB,GAC7BF,YAAY,IACZA,YAAY,CAACpB,QAAQ,CAACnB,CAAC,KAAK0B,MAAM,CAACP,QAAQ,CAACnB,CAAC,IAC7C0B,MAAM,CAACP,QAAQ,CAACnB,CAAC,KAAK2B,MAAM,CAACR,QAAQ,CAACnB,CAAC;MAEzC,IAAIyC,yBAAyB,EAAE;QAC7BlB,wBAAwB,CAACpC,OAAO,CAACuD,IAAI,CAACtE,SAAS,CAAC;QAChD,IAAImD,wBAAwB,CAACpC,OAAO,CAACwD,MAAM,KAAK,CAAC,EAAE;UACjD,MAAM,CAACC,MAAM,EAAEC,MAAM,CAAC,GAAGtB,wBAAwB,CAACpC,OAAO;UACzD,IAAIyD,MAAM,KAAKC,MAAM,EAAE;YACrB,MAAMC,QAAQ,GAAGhF,KAAK,CAACiF,MAAM,CAAEP,IAAI,IAAKA,IAAI,CAACrB,QAAQ,CAACnB,CAAC,GAAG0B,MAAM,CAACP,QAAQ,CAACnB,CAAC,CAAC;YAC5E,MAAMgD,WAAW,GAAGlF,KAAK,CAACiF,MAAM,CAAEP,IAAI,IAAKA,IAAI,CAACrB,QAAQ,CAACnB,CAAC,GAAG0B,MAAM,CAACP,QAAQ,CAACnB,CAAC,CAAC;YAE/E8C,QAAQ,CAACnD,OAAO,CAAEsD,OAAO,IAAK;cAC5BD,WAAW,CAACrD,OAAO,CAAEuD,UAAU,IAAK;gBAClC,MAAMnB,gBAAgB,GAAI,cAAakB,OAAO,CAAChC,EAAG,IAAGiC,UAAU,CAACjC,EAAG,EAAC;gBACpE,MAAMe,cAAc,GAAG;kBACrBf,EAAE,EAAEc,gBAAgB;kBACpBH,MAAM,EAAEqB,OAAO,CAAChC,EAAE;kBAClBY,MAAM,EAAEqB,UAAU,CAACjC,EAAE;kBACrBjC,IAAI,EAAE1D,kBAAkB,CAAC2G,QAAQ;kBACjCzF,KAAK,EAAE;oBACLiE,MAAM,EAAEmC,MAAM;oBAAE;oBAChBlC,WAAW,EAAEpC;kBACf;gBACF,CAAC;gBAEDJ,QAAQ,CAAED,KAAK,IAAK,CAAC,GAAGA,KAAK,EAAE+D,cAAc,CAAC,CAAC;cACjD,CAAC,CAAC;YACJ,CAAC,CAAC;UACJ;UACAT,wBAAwB,CAACpC,OAAO,GAAG,EAAE;QACvC;MACF,CAAC,MAAM;QACLoC,wBAAwB,CAACpC,OAAO,GAAG,EAAE;MACvC;IACF;IAEA,OAAOjB,QAAQ,CAAEiF,GAAG;MAAA,IAAAC,gBAAA,EAAAC,iBAAA,EAAAC,iBAAA,EAAAC,iBAAA;MAAA,OAAKnI,OAAO,CAAC;QAC/B,GAAGgH,CAAC;QACJR,MAAM;QACNC,MAAM;QACNK,YAAY,EAAEG,EAAE;QAChBF,YAAY,EAAEG,EAAE;QAChBtD,IAAI,EAAE1D,kBAAkB,CAAC2G,QAAQ;QACjCzF,KAAK,EAAE;UAACiE,MAAM,EAAErC,SAAS;UAAEsC,WAAW,EAAEpC,SAAS;UAAE,GAAGnC,aAAa;UAAE,GAAGK,KAAK,CAACuC;QAAS,CAAC;QACxF,GAAGjD,aAAa;QAChB,GAAGU,KAAK,CAACsC,SAAS;QAClB/C,SAAS,EAAES,KAAK,aAALA,KAAK,gBAAA4G,gBAAA,GAAL5G,KAAK,CAAEsC,SAAS,cAAAsE,gBAAA,eAAhBA,gBAAA,CAAkBrH,SAAS,GAAG;UAAC,IAAGS,KAAK,aAALA,KAAK,wBAAA6G,iBAAA,GAAL7G,KAAK,CAAEsC,SAAS,cAAAuE,iBAAA,uBAAhBA,iBAAA,CAAkBtH,SAAS;UAAE4E,KAAK,EAAEvC;QAAS,CAAC,GAAGpC,SAAS;QACvGC,WAAW,EAAEO,KAAK,aAALA,KAAK,gBAAA8G,iBAAA,GAAL9G,KAAK,CAAEsC,SAAS,cAAAwE,iBAAA,eAAhBA,iBAAA,CAAkBrH,WAAW,GAAG;UAAC,IAAGO,KAAK,aAALA,KAAK,wBAAA+G,iBAAA,GAAL/G,KAAK,CAAEsC,SAAS,cAAAyE,iBAAA,uBAAhBA,iBAAA,CAAkBtH,WAAW;UAAE0E,KAAK,EAAEvC;QAAS,CAAC,GAAGpC;MACtG,CAAC,EAAEmH,GAAG,CAAC;IAAA,EAAC;EACV,CAAC,EACD,CAACjF,QAAQ,EAAEE,SAAS,EAAEE,SAAS,EAAEE,SAAS,EAAEV,KAAK,EAAEY,UAAU,CAC/D,CAAC;EAOC,MAAM8E,YAAY,GAAGA,CAAA,KAAM;IACzBtF,QAAQ,CAACD,KAAK,CAACwF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAC9B,CAAC;EAED,MAAMC,cAAc,GAAGA,CAAA,KAAM;IAC3BjG,WAAW,CAAC,CAACD,QAAQ,CAAC;IACtB,MAAMmG,GAAG,GAAG1F,KAAK,CAACoC,GAAG,CAACuD,CAAC,IAAI;MACzB,OAAO;QACL,GAAGA,CAAC;QACJpH,KAAK,EAAE;UAAC,GAAGoH,CAAC,CAACpH,KAAK;UAAEiE,MAAM,EAAEhF,WAAW,CAACmI,CAAC,CAACpH,KAAK,CAACiE,MAAM;QAAC,CAAC;QACxD1E,SAAS,EAAE6H,CAAC,CAAC7H,SAAS,GAAG;UACvB,GAAG6H,CAAC,CAAC7H,SAAS;UACd4E,KAAK,EAAElF,WAAW,CAACmI,CAAC,CAAC7H,SAAS,CAAC4E,KAAK;QACtC,CAAC,GAAG3E,SAAS;QACbC,WAAW,EAAE2H,CAAC,CAAC3H,WAAW,GAAG;UAC3B,GAAG2H,CAAC,CAAC3H,WAAW;UAChB0E,KAAK,EAAElF,WAAW,CAACmI,CAAC,CAAC3H,WAAW,CAAC0E,KAAK;QACxC,CAAC,GAAG3E;MACN,CAAC;IACH,CAAC,CAAC;IACFkC,QAAQ,CAAC,CAAC,GAAGyF,GAAG,CAAC,CAAC;EACpB,CAAC;EAED,oBACE/H,OAAA;IAAKiI,SAAS,EAAG,OAAMrG,QAAQ,GAAG,WAAW,GAAG,EAAG,EAAE;IAAChB,KAAK,EAAE;MAAEI,MAAM,EAAE;IAAQ,CAAE;IAAAkH,QAAA,gBAC/ElI,OAAA;MAAKiI,SAAS,EAAC,aAAa;MAAAC,QAAA,gBAC1BlI,OAAA;QAAKiI,SAAS,EAAC,cAAc;QAAAC,QAAA,gBAC3BlI,OAAA;UAAKiI,SAAS,EAAC,eAAe;UAAAC,QAAA,gBAC5BlI,OAAA;YAAQqF,EAAE,EAAG,YAAY;YAAC8C,OAAO,EAAEP,YAAa;YAAAM,QAAA,EAAC;UAAc;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACxEvI,OAAA;YAAQqF,EAAE,EAAC,YAAY;YAAC8C,OAAO,EAAEL,cAAe;YAAAI,QAAA,EAAEtG,QAAQ,GAAG,YAAY,GAAG;UAAW;YAAAwG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAS,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC9F,CAAC,eACNvI,OAAA;UAAIiI,SAAS,EAAC,OAAO;UAAAC,QAAA,EAAC;QAAW;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnC,CAAC,eACNvI,OAAA;QAAKiI,SAAS,EAAC,YAAY;QAAAC,QAAA,gBAC3BlI,OAAA;UAAAkI,QAAA,gBACIlI,OAAA;YAAKiI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlI,OAAA;cAAOwI,OAAO,EAAC,cAAc;cAAAN,QAAA,EAAC;YAAa;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACnDvI,OAAA;cACEqF,EAAE,EAAC,cAAc;cACjBoD,KAAK,EAAE3G,WAAY;cACnB4G,GAAG,EAAElH,YAAa;cAClBmH,GAAG,EAAElH,YAAa;cAClBmH,SAAS,EAAE,CAAE;cACbC,QAAQ,EAAGb,CAAC,IAAK;gBACf,MAAMc,QAAQ,GAAGC,IAAI,CAACL,GAAG,CAACK,IAAI,CAACJ,GAAG,CAACK,QAAQ,CAAChB,CAAC,CAAC/B,MAAM,CAACwC,KAAK,CAAC,EAAEjH,YAAY,CAAC,EAAEC,YAAY,CAAC;gBACzFM,cAAc,CAAC+G,QAAQ,CAAC;cAC1B;YAAE;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACFvI,OAAA;cAAQmI,OAAO,EAAEA,CAAA,KAAMpG,cAAc,CAACgH,IAAI,CAACL,GAAG,CAAC5G,WAAW,GAAG,CAAC,EAAEL,YAAY,CAAC,CAAE;cAAAyG,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAC1FvI,OAAA;cAAQmI,OAAO,EAAEA,CAAA,KAAMpG,cAAc,CAACgH,IAAI,CAACJ,GAAG,CAAC7G,WAAW,GAAG,CAAC,EAAEN,YAAY,CAAC,CAAE;cAAA0G,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACvF,CAAC,eACNvI,OAAA;YAAKiI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlI,OAAA;cAAOwI,OAAO,EAAC,iBAAiB;cAAAN,QAAA,EAAC;YAAgB;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACzDvI,OAAA;cACEqF,EAAE,EAAC,iBAAiB;cACpBjC,IAAI,EAAC,QAAQ;cACbqF,KAAK,EAAEzG,cAAe;cACtB0G,GAAG,EAAElH,YAAa;cAClBmH,GAAG,EAAElH,YAAa;cAClBmH,SAAS,EAAE,CAAE;cACbC,QAAQ,EAAGb,CAAC,IAAK;gBACf,MAAMc,QAAQ,GAAGC,IAAI,CAACL,GAAG,CAACK,IAAI,CAACJ,GAAG,CAACK,QAAQ,CAAChB,CAAC,CAAC/B,MAAM,CAACwC,KAAK,CAAC,EAAEjH,YAAY,CAAC,EAAEC,YAAY,CAAC;gBACzFQ,iBAAiB,CAAC6G,QAAQ,CAAC;cAC7B;YAAE;cAAAV,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC,eACFvI,OAAA;cAAQmI,OAAO,EAAEA,CAAA,KAAMlG,iBAAiB,CAAC8G,IAAI,CAACL,GAAG,CAAC1G,cAAc,GAAG,CAAC,EAAEP,YAAY,CAAC,CAAE;cAAAyG,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eAChGvI,OAAA;cAAQmI,OAAO,EAAEA,CAAA,KAAMlG,iBAAiB,CAAC8G,IAAI,CAACJ,GAAG,CAAC3G,cAAc,GAAG,CAAC,EAAER,YAAY,CAAC,CAAE;cAAA0G,QAAA,EAAC;YAAC;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7F,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eACNvI,OAAA;UAAAkI,QAAA,eACElI,OAAA;YAAKiI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC5BlI,OAAA;cAAOwI,OAAO,EAAC,cAAc;cAAAN,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDvI,OAAA;cAAQiJ,YAAY,EAAErG,SAAU;cAACiG,QAAQ,EAAGb,CAAC,IAAK;gBAChDnF,YAAY,CAACmF,CAAC,CAAC/B,MAAM,CAACwC,KAAK,CAAC;cAC9B,CAAE;cAAAP,QAAA,EAEEpF,UAAU,CAAC,CAAC,CAAC2B,GAAG,CAAEyE,QAAQ,IAAK;gBAC7B,oBAAOlJ,OAAA;kBAA2ByI,KAAK,EAAES,QAAQ,CAACnG,GAAI;kBAAAmF,QAAA,EAAEgB,QAAQ,CAAClG;gBAAI,GAAjDkG,QAAQ,CAACnG,GAAG;kBAAAqF,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA8C,CAAC;cACjF,CAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eACNvI,OAAA;UAAAkI,QAAA,gBACElI,OAAA;YAAKiI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlI,OAAA;cAAOwI,OAAO,EAAC,cAAc;cAAAN,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDvI,OAAA;cAAQiJ,YAAY,EAAEvG,SAAU;cAACmG,QAAQ,EAAGb,CAAC,IAAK;gBAChDrF,YAAY,CAACqF,CAAC,CAAC/B,MAAM,CAACwC,KAAK,CAAC;cAC9B,CAAE;cAAAP,QAAA,EACCjI,UAAU,CAACwE,GAAG,CAAC1D,KAAK,IAAI;gBACvB,oBAAOf,OAAA;kBAA8ByI,KAAK,EAAE1H,KAAM;kBAAAmH,QAAA,EAAEnH;gBAAK,GAArCA,KAAK,GAAG,OAAO;kBAAAqH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAA+B,CAAC;cACrE,CAAC;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC,eACNvI,OAAA;YAAKiI,SAAS,EAAC,iBAAiB;YAAAC,QAAA,gBAC9BlI,OAAA;cAAOwI,OAAO,EAAC,cAAc;cAAAN,QAAA,EAAC;YAAW;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACjDvI,OAAA;cAAOoD,IAAI,EAAC,OAAO;cAACqF,KAAK,EAAEjG,SAAU;cAACqG,QAAQ,EAAGb,CAAC,IAAK;gBACrDvF,YAAY,CAACuF,CAAC,CAAC/B,MAAM,CAACwC,KAAK,CAAC;cAC9B;YAAE;cAAAL,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAE,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACF,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC,eACNvI,OAAA;MAAKiI,SAAS,EAAC,aAAa;MAAAC,QAAA,eAC1BlI,OAAA,CAACX,SAAS;QACR6C,KAAK,EAAEA,KAAM;QACbG,KAAK,EAAEA;QACP;QAAA;QACAD,aAAa,EAAEA,aAAc;QAC7BG,aAAa,EAAEA,aAAc;QAC7BqD,SAAS,EAAEA,SAAU;QACrBuD,cAAc,EAAEA,CAAA,KAAM;UACpB,MAAMC,SAAS,GAAGtJ,mBAAmB,CAAC,CAAC;UACvC2C,YAAY,CAAC2G,SAAS,CAAC;QACzB,CAAE;QACFC,gBAAgB,EAAE,KAAM,CAAC;QAAA;QACzBC,SAAS,EAAE,KAAM;QACjBC,cAAc,EAAE,KAAM;QACtBC,cAAc,EAAE,KAAM;QACtBC,YAAY,EAAE,KAAM;QACpBC,WAAW,EAAE,KAAM;QACnBC,iBAAiB,EAAE,KAAM;QACzBC,cAAc,EAAEnK,cAAc,CAACoK,KAAM;QACrCpJ,SAAS,EAAEA,SAAU;QACrBqJ,kBAAkB,EAAEpK,kBAAkB,CAAC2G,QAAS;QAChD0D,WAAW,EAAEA,CAAC/B,CAAC,EAAEpB,IAAI,KAAK;UACxB;UACAoD,OAAO,CAACC,GAAG,CAACjC,CAAC,EAAEpB,IAAI,CAAC;QACtB,CAAE;QACFsD,mBAAmB,EAAE;UACnBrF,MAAM,EAAErC,SAAS;UACjBsC,WAAW,EAAEpC,SAAS;UACtB,GAAII,UAAU,CAAC,CAAC,CAACwB,IAAI,CAAE1D,KAAK,IAAKA,KAAK,CAACmC,GAAG,KAAKH,SAAS,CAAC,CAACO;UAC1D;QACF;QACA;MAAA;QAAAiF,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACD;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEH,CAAC;AAEV;AAACjH,EAAA,CA1buBD,GAAG;EAAA,QAUgB/B,aAAa,EACbC,aAAa;AAAA;AAAA4K,EAAA,GAXhC9I,GAAG;AAAA,IAAA8I,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}